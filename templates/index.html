{% extends "base.html" %}

{% block title %}Youtube Stats{% endblock %}

{% block content %}

{% for messages in get_flashed_messages() %}
  
  <div class="alert alert-warning alert-dismissible fade show" role="alert">
    <strong>Try Again!</strong> Wrong ID! {{message}}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>

{% endfor %}

<!--<link rel="{{url_for('static', filename='css/main.css')}}" href="stylesheet"/>-->

<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static', filename='css/main.css') }}">


<!-- Form -->
<form method="POST" action="#results">
    <div class="form-group">
      <label for="input channelID">Input Channel ID</label>
      <input class="form-control" type="text" placeholder="input channel ID here" name="channelID">
    </div>
    <p></p>
    <button type="submit" class="btn btn-primary">Fetch Stats</button>
  </form>

  <br></br>

  <h5><center><strong>Result of Youtube Channel Stats:</strong></center></h5>

  <!-- Channel ID Table -->
  <table class="table table-striped table-light" id="results">
    <thead>
      <tr>
        
        <th scope="col">Channel Name</th>
        <th scope="col">Subscribers</th>
        <th scope="col">Views</th>
        <th scope="col">Total Videos</th>
        <th scope="col">Playlist ID</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        
        <td>{{output['Channel Name'][0]}}</td>
        <td>{{output['Subscribers'][0]}}</td>
        <td>{{output['Views'][0]}}</td>
        <td>{{output['Total Videos'][0]}}</td>
        <td>{{output['Playlist ID'][0]}}</td>
      </tr>
    </tbody>
  </table>

 <!--Create a new table for Playlist stats : use output2 field-->

  <br></br>
  <h5><center><strong>Results of Top Videos in Channel:</strong></center></h5>
  <table class="table table-striped table-light" id="results">
      <tr>
        <th scope="col">Channel Title</th>
        <th scope="col">Video Title</th>
        <th scope="col">View Count</th>
        <th scope="col">Likes</th>
        <th scope="col">Comment Count</th>
      </tr>
    </thead>
    <tbody>

    {% for index, row in output2.iterrows() %}
      <tr> 
        
        <td>{{output2['channelTitle'][index]}}</td>
        <td>{{output2['title'][index]}}</td>
        <td>{{output2['viewCount'][index]}}</td>
        <td>{{output2['likeCount'][index]}}</td>
        <td>{{output2['commentCount'][index]}}</td>
      </tr> 
    {% endfor %}
    </tbody>
  </table>
  

{% endblock %}





